<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="google-site-verification" content="aG_tXROG9wF9yK4g29KmnltUUXyLK5SBAWKIXDkz6vU"><title>AWS connect last agent call routing - Fedeoo&#039;s Blog</title><link rel="manifest" href="/en/manifest.json"><meta name="application-name" content="Fedeoo&#039;s Blog"><meta name="msapplication-TileImage" content="/gallery/site/shark.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Fedeoo&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ChallengeIn a recent project, we were assigned the task to route calls to the last agent who interacted with the caller.This requirement may seem fundamental, but it proved to be more complex than ant"><meta property="og:type" content="blog"><meta property="og:title" content="AWS connect last agent call routing"><meta property="og:url" content="http://blog.feibyte.com/en/2024/05/21/AWS-connect-last-agent-call-routing/"><meta property="og:site_name" content="Fedeoo&#039;s Blog"><meta property="og:description" content="ChallengeIn a recent project, we were assigned the task to route calls to the last agent who interacted with the caller.This requirement may seem fundamental, but it proved to be more complex than ant"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://blog.feibyte.com/en/gallery/thumbnails/2024/call-center.png"><meta property="article:published_time" content="2024-05-21T11:22:56.000Z"><meta property="article:modified_time" content="2025-12-03T09:25:38.781Z"><meta property="article:author" content="Fedeoo"><meta property="article:tag" content="Serviceless"><meta property="article:tag" content="Amazon connect"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://blog.feibyte.com/en/gallery/thumbnails/2024/call-center.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.feibyte.com/en/2024/05/21/AWS-connect-last-agent-call-routing/"},"headline":"AWS connect last agent call routing","image":["http://blog.feibyte.com/en/gallery/thumbnails/2024/call-center.png"],"datePublished":"2024-05-21T11:22:56.000Z","dateModified":"2025-12-03T09:25:38.781Z","author":{"@type":"Person","name":"Fedeoo"},"publisher":{"@type":"Organization","name":"Fedeoo's Blog","logo":{"@type":"ImageObject","url":"http://blog.feibyte.com/gallery/site/logo.png"}},"description":"ChallengeIn a recent project, we were assigned the task to route calls to the last agent who interacted with the caller.This requirement may seem fundamental, but it proved to be more complex than ant"}</script><link rel="canonical" href="http://blog.feibyte.com/en/2024/05/21/AWS-connect-last-agent-call-routing/"><link rel="icon" href="/en/gallery/site/shark.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/en/css/default.css"><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-773NDPTQE0" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-773NDPTQE0');</script><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/en/"><img src="/en/gallery/site/logo.png" alt="Fedeoo&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/en/">Home</a><a class="navbar-item" href="/en/archives">Archives</a><a class="navbar-item" href="/en/categories">Categories</a><a class="navbar-item" href="/en/tags">Tags</a><a class="navbar-item" href="/en/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="简体中文" href="https://blog.feibyte.com/">简体中文</a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/feibyte/feibyte.github.io"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-05-21T11:22:56.000Z" title="21/05/2024, 9:22:56 pm">2024-05-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-03T09:25:38.781Z" title="03/12/2025, 8:25:38 pm">2025-12-03</time></span><span class="level-item"><a class="link-muted" href="/en/categories/Explorations/">Explorations</a></span><span class="level-item">3 minutes read (About 511 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">AWS connect last agent call routing</h1><div class="content"><h2 id="Challenge"><a href="#Challenge" class="headerlink" title="Challenge"></a>Challenge</h2><p>In a recent project, we were assigned the task to route calls to the last agent who interacted with the caller.<br>This requirement may seem fundamental, but it proved to be more complex than anticipated,<br>especially considering its integration into Salesforce via Salesforce Service Cloud Voice.</p>
<span id="more"></span>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>The proposed solution is relatively straightforward.<br>We will employ a Lambda function to query recent voice calls and retrieve information about the previous queue and agent.<br>If the agent is available and the customer wishes to continue the previous call, the call will be transferred to that same agent.<br>However, should any errors occur during this process, the call will follow the normal flow.</p>
<p>In summary:</p>
<ol>
<li>A Lambda function will retrieve details about the customer’s previous call, including the queue and agent.</li>
<li>If the previous agent is available and the customer wants to resume the call, the new call will be transferred to that agent.</li>
<li>If any issues arise during this process (such as agent unavailability or customer preference), the call will proceed through the regular call flow.</li>
</ol>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><h3 id="Update-IVR"><a href="#Update-IVR" class="headerlink" title="Update IVR"></a>Update IVR</h3><p>First, invoke the Lambda to retrieve the last agent and queue, then set the agent to the working queue.<br>Before transferring the call to the queue, we need to check if the agent is available and provide the customer with the option to continue the previous call or not.<br>The IVR flow is depicted as follows:</p>
<p><img src="/en/gallery/site/2024/ivr.png" alt="Updated IVR"></p>
<h3 id="Lambda-Get-Last-Voice-Call"><a href="#Lambda-Get-Last-Voice-Call" class="headerlink" title="Lambda Get Last Voice Call"></a>Lambda Get Last Voice Call</h3><p>Now, the only remaining task is to retrieve the last agent.<br>Unfortunately, the <code>SearchContactsCommand</code> from aws client does not support searching for contacts by customer phone number, possibly due to privacy concerns.<br>As a workaround, we can set a custom contact attribute (e.g., CustomerPhoneNumber) and mark it as searchable.<br>Then, using the <code>SearchContactsCommand</code>, we can search for contacts by the searchable attributes.<br>It’s important to note that contacts created before adding the searchable key will still not be searchable.<br>Additionally, we can set a time range in this Lambda to search for contacts within the past 7 days. The code snippets are as follows:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">input</span>: <span class="title class_">SearchContactsRequest</span> = &#123;</span><br><span class="line">  <span class="title class_">InstanceId</span>,</span><br><span class="line">  <span class="title class_">TimeRange</span>: &#123;</span><br><span class="line">    <span class="title class_">Type</span>: <span class="string">&quot;INITIATION_TIMESTAMP&quot;</span>,</span><br><span class="line">    <span class="title class_">StartTime</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() - <span class="number">7</span> * <span class="number">24</span> * <span class="number">3600</span> * <span class="number">1000</span>), <span class="comment">// Since 7 days ago</span></span><br><span class="line">    <span class="title class_">EndTime</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title class_">SearchCriteria</span>: &#123;</span><br><span class="line">    <span class="title class_">Channels</span>: [</span><br><span class="line">      <span class="string">&quot;VOICE&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="title class_">SearchableContactAttributes</span>: &#123;</span><br><span class="line">      <span class="title class_">Criteria</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="title class_">Key</span>: <span class="string">&quot;CustomerPhoneNumber&quot;</span>,</span><br><span class="line">          <span class="title class_">Values</span>: [</span><br><span class="line">            phoneNumber,</span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="title class_">MatchType</span>: <span class="string">&quot;MATCH_ALL&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title class_">MaxResults</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="title class_">Sort</span>: &#123;</span><br><span class="line">    <span class="title class_">FieldName</span>: <span class="string">&quot;INITIATION_TIMESTAMP&quot;</span>,</span><br><span class="line">    <span class="title class_">Order</span>: <span class="string">&quot;DESCENDING&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> command = <span class="keyword">new</span> <span class="title class_">SearchContactsCommand</span>(input);</span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> client.<span class="title function_">send</span>(command);</span><br><span class="line"><span class="keyword">const</span> lastContact = (response.<span class="property">Contacts</span> ?? []).<span class="title function_">filter</span>(<span class="function">(<span class="params">contact</span>) =&gt;</span> contact.<span class="property">AgentInfo</span>?.<span class="property">Id</span>)[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>At last year’s AWS conference, I observed a promising demonstration of Amazon Connect integrated with AI, highlighting its potential to proactively resolve customer issues.<br>However, I was surprised to discover that implementing last-agent call routing, which I deemed fundamental, lacked an out-of-the-box solution in Amazon Connect.<br>This realization prompted us to develop a custom solution to address this critical requirement.</p>
<p>Reference post <a target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/contact-center/last-agent-and-last-queue-routing-on-amazon-connect-for-returning-callers/">Last Agent and Last Queue Routing on Amazon Connect for Returning Callers</a></p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/en/tags/Serviceless/">Serviceless</a><a class="link-muted mr-2" rel="tag" href="/en/tags/Amazon-connect/">Amazon connect</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/en/2024/06/02/DynamoDB%20single%20table%20design/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">DynamoDB the Advantages and Considerations of Single Table Design</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/en/2024/05/16/AWS-client-getaddrinfo-EMFILE-issue/"><span class="level-item">AWS client getaddrinfo EMFILE issue</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://blog.feibyte.com/en/2024/05/21/AWS-connect-last-agent-call-routing/';
            this.page.identifier = '2024/05/21/AWS-connect-last-agent-call-routing/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'blog-feibyte-com' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/en/gallery/site/shark.png" alt="Fedeoo"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Fedeoo</p><p class="is-size-6 is-block">Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Sydney</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/en/archives"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Category</p><a href="/en/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/en/tags"><p class="title">13</p></a></div></div></nav></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/en/categories/Explorations/"><span class="level-start"><span class="level-item">Explorations</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/en/2025/10/16/page-object-model-pattern/"><img src="/en/gallery/thumbnails/playwright.png" alt="Page Object Model Pattern"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-10-16T12:17:22.000Z">2025-10-16</time></p><p class="title"><a href="/en/2025/10/16/page-object-model-pattern/">Page Object Model Pattern</a></p><p class="categories"><a href="/en/categories/Explorations/">Explorations</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/en/2024/06/02/DynamoDB%20single%20table%20design/"><img src="/en/gallery/thumbnails/2024/dynamodb.png" alt="DynamoDB the Advantages and Considerations of Single Table Design"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-06-02T11:22:56.000Z">2024-06-02</time></p><p class="title"><a href="/en/2024/06/02/DynamoDB%20single%20table%20design/">DynamoDB the Advantages and Considerations of Single Table Design</a></p><p class="categories"><a href="/en/categories/Explorations/">Explorations</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/en/2024/05/21/AWS-connect-last-agent-call-routing/"><img src="/en/gallery/thumbnails/2024/call-center.png" alt="AWS connect last agent call routing"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-05-21T11:22:56.000Z">2024-05-21</time></p><p class="title"><a href="/en/2024/05/21/AWS-connect-last-agent-call-routing/">AWS connect last agent call routing</a></p><p class="categories"><a href="/en/categories/Explorations/">Explorations</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/en/2024/05/16/AWS-client-getaddrinfo-EMFILE-issue/"><img src="/en/gallery/thumbnails/aws/lambda.png" alt="AWS client getaddrinfo EMFILE issue"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-05-16T13:17:22.000Z">2024-05-16</time></p><p class="title"><a href="/en/2024/05/16/AWS-client-getaddrinfo-EMFILE-issue/">AWS client getaddrinfo EMFILE issue</a></p><p class="categories"><a href="/en/categories/Explorations/">Explorations</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/en/2024/05/11/How-to-prevent-duplicate-SQS-messages/"><img src="/en/gallery/thumbnails/2024/sqs.png" alt="How to prevent duplicate SQS messages"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-05-10T21:52:05.000Z">2024-05-11</time></p><p class="title"><a href="/en/2024/05/11/How-to-prevent-duplicate-SQS-messages/">How to prevent duplicate SQS messages</a></p><p class="categories"><a href="/en/categories/Explorations/">Explorations</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/en/tags/Serviceless/"><span class="tag">Serviceless</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/en/tags/AWS/"><span class="tag">AWS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/en/tags/FE/"><span class="tag">FE</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/en/tags/Client/"><span class="tag">Client</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/en/tags/Amazon-connect/"><span class="tag">Amazon connect</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/en/tags/DynamoDB/"><span class="tag">DynamoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/en/tags/SQS-Processor/"><span class="tag">SQS Processor</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/en/tags/E2E/"><span class="tag">E2E</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/en/"><img src="/en/gallery/site/logo.png" alt="Fedeoo&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2025 Fedeoo</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/en/js/column.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/en/js/back_to_top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script src="/en/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/en/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/en/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>